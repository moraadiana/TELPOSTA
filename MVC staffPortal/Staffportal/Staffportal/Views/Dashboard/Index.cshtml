@model Staffportal.Models.User
@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-xxl flex-grow-1 container-p-y">
    <div class="row">
        @if (TempData["Error"] != null)
        {
            <div class="alert alert-danger alert-dismissible" role="alert">
                @TempData["Error"]
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }
        @if (TempData["Success"] != null)
        {
            <div class="alert alert-success alert-dismissible" role="alert">
                @TempData["Success"]
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }
        <div class="col-lg-4 mb-4 order-0">
            <div class="card border-info mb-3" style="border: 1px solid #0dcaf0 !important;">
                <div class="card-body">
                    <p class="text-center">User Avatar</p>
                    <div class="dropdown-divider"></div>
                    @{
                        string username = Session["username"].ToString();
                        string gender = Components.ObjNav.GetStaffGender(username);
                        string profile = string.Empty;
                        if (gender == "Male")
                        {
                            profile = "profile_m";
                        }
                        else if (gender == "Female")
                        {
                            profile = "profile_f";
                        }
                        else
                        {
                            profile = "profile_m";
                        }
                        string profileImg = $"/assets/img/logo/{profile}.png";
                        <img src="@profileImg" class="rounded-circle img-fluid" />
                    }
                    <div class="dropdown-divider"></div>
                    <div class="mt-3 mt-4">
                        <div class="d-flex flex-column justify-content-center align-items-center g-4">
                            <h5 class="text-uppercase" style="font-size: 1.0rem;">@Model.StaffName</h5>
                            <p style="font-size: 1.0rem;" class="text-center">@Model.JobId - @Model.JobTitle</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8 mb-4 order-0">
            <div class="card border-info mb-3" style="border: 1px solid #0dcaf0 !important;">
                <div class="card-body">
                    <ul style="list-style: none; width: 100%; display: flex; flex-direction: column; gap:.4rem;">
                        <li class="d-flex justify-content-between align-items-center">
                            <strong>Employee No:</strong>
                            <span class="text-end">@Model.StaffNo</span>
                        </li>
                        <li class="dropdown-divider"></li>
                        <li class="d-flex justify-content-between align-items-center">
                            <strong>Gender:</strong>
                            <span class="text-end">@Model.Gender</span>
                        </li>
                        <li class="dropdown-divider"></li>
                        <li class="d-flex justify-content-between align-items-center">
                            <strong>ID Number:</strong>
                            <span class="text-end">@Model.IdNumber</span>
                        </li>
                        <li class="dropdown-divider"></li>
                        <li class="d-flex justify-content-between align-items-center">
                            <strong>Email Address:</strong>
                            <span class="text-end">@Model.EmailAddress</span>
                        </li>
                        <li class="dropdown-divider"></li>
                        <li class="d-flex justify-content-between align-items-center">
                            <strong>Phone Number:</strong>
                            <span class="text-end">@Model.PhoneNumber</span>
                        </li>
                        <li class="dropdown-divider"></li>
                        <li class="d-flex justify-content-between align-items-center">
                            <strong>Postal Address:</strong>
                            <span class="text-end">@Model.PostalAddress</span>
                        </li>
                        <li class="dropdown-divider"></li>
                        <li class="d-flex justify-content-between align-items-center">
                            <strong>Leave Balance:</strong>
                            <span class="text-end"><a class="text-decoration-underline text-info" href="@Url.Action("leavetransactions","humanresource")">@Model.LeaveBalance</a></span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>