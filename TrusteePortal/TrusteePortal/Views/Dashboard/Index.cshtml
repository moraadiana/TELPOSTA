<div class="page-content">
    <div class="page-bar">
        <ul class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="@Url.Action("index", "dashboard")">
                    <i class="fas fa-home"></i> Home
                </a>
            </li>
            <li class="breadcrumb-item active">Dashboard</li>
        </ul>
    </div>

    <h1 class="page-title text-primary"><i class="fas fa-tachometer-alt"></i> Dashboard</h1>

    <div class="row">
        <!-- Profile Sidebar -->
        <div class="col-md-3">
            <div class="card shadow-lg border-0 rounded">
                <div class="card-body text-center">
                    <img src="~/images/profile_m.png" class="img-fluid rounded-circle mb-3" alt="Avatar" style="width: 120px; height: 120px;">
                    <h4 class="text-primary">@Session["pensionerName"]</h4>
                    <p class="text-muted"><i class="fas fa-user-tag"></i> @Session["PensionerType"] </p>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-9">
            <div class="card shadow-lg border-0">
                <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                    <h5 class="mb-0"><i class="fas fa-user-circle"></i> Welcome, @Session["pensionerName"]</h5>
                    <a href="javascript:;" class="text-white toggle-portlet" data-bs-toggle="collapse" data-bs-target="#portletBody">
                        <i class="fas fa-chevron-down"></i>
                    </a>

                </div>

                <div id="portletBody" class="collapse show card-body">
                    <h5 class="mb-3"><strong><i class="fas fa-info-circle"></i> Pensioner Information</strong></h5>

                    <table class="table table-hover">
                        <tbody>
                            @*<tr>
                                    <td><i class="fas fa-user"></i> Name:</td>
                                    <td>@Session["Name"]</td>
                                </tr>*@
                            <tr>
                                <td><i class="fas fa-envelope"></i> Email:</td>
                                <td>@Session["Email"]</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-phone"></i> Phone No:</td>
                                <td>@Session["PhoneNo"]</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-id-card"></i> ID Number:</td>
                                <td>@Session["ID"]</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-calendar-alt"></i> Date of Joining:</td>
                                <td>@Session["JoiningDate"]</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-check-circle"></i> Status:</td>
                                <td>
                                    <span class="badge bg-@((Session["Status"]?.ToString() == "Suspended") ? "warning" : (Session["Status"]?.ToString() == "Ceased") ? "danger" : "success")">
                                        @Session["Status"]
                                    </span>
                                </td>
                            </tr>

                            @if (Session["Status"]?.ToString() == "Suspended")
                            {
                                <tr>
                                    <td><i class="fas fa-exclamation-triangle"></i> Suspension reason:</td>
                                    <td>@Session["SuspensionReason"]</td>
                                </tr>
                                <tr>
                                    <td><i class="fas fa-calendar-times"></i> Suspension Date:</td>
                                    <td>@Session["SuspensionDate"]</td>
                                </tr>
                            }

                            @if (@Session["PensionerType"]?.ToString() == "Beneficiary")
                            {
                                <tr>
                                    <td><i class="fas fa-calendar-times"></i> Cease Date:</td>
                                    <td>@Session["CeaseDate"]</td>
                                </tr>
                            }

                            <tr>
                                <td><i class="fas fa-building"></i> Employer/Former Employer:</td>
                                <td>@Session["Employer"]</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-calendar-check"></i> Retirement Date:</td>
                                <td>@Session["RetirementDate"]</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-credit-card"></i> Account Number:</td>
                                <td>@Session["AccountNo"]</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-university"></i> Bank Name:</td>
                                <td>@Session["BankName"]</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-map-marker-alt"></i> Branch Name:</td>
                                <td>@Session["BranchName"]</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="text-center mt-4">
                        <a href="@Url.Action("index", "dashboard")" class="btn btn-outline-secondary">
                            <i class="fas fa-arrow-left"></i> Back
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelector(".toggle-portlet").addEventListener("click", function () {
            let icon = this.querySelector("i");
            icon.classList.toggle("fa-chevron-down");
            icon.classList.toggle("fa-chevron-up"); // Toggle icon
        });
    });


</script>